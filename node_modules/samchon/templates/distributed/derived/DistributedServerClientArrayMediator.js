"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var DistributedClientArrayMediator_1 = require("./DistributedClientArrayMediator");
/**
 * Mediator of Distributed Processing System, be a server and client at the same time as a **master**.
 *
 * The {@link DistributedServerClientArrayMediator} is an abstract class, derived from the
 * {@link DistributedSystemArrayMediator} class, opening a server accepting {@link DistributedSystem distributed
 * clients} and being a client connecting to {@link IDistributedServer distributed servers} at the same time.
 *
 * Extends this {@link DistributedServerClientArrayMediator} and overrides below methods. After the overridings, open
 * server with {@link open open()} method and connect to {@link IDistributedServer distributed servers} through the
 * {@link connect connect()} method.
 *
 * - {@link createServerBase createServerBase()}
 * - {@link createExternalClient createExternalClient()}
 * - {@link createExternalServer createExternalServer()}
 *
 * #### [Inherited] {@link DistributedSystemArrayMediator}
 * @copydoc DistributedSystemArrayMediator
 */
var DistributedServerClientArrayMediator = /** @class */ (function (_super) {
    __extends(DistributedServerClientArrayMediator, _super);
    /* ---------------------------------------------------------
        CONSTRUCTORS
    --------------------------------------------------------- */
    /**
     * Default Constructor.
     */
    function DistributedServerClientArrayMediator() {
        return _super.call(this) || this;
    }
    /**
     * Factory method of a child Entity.
     *
     * This method is migrated to {@link createExternalServer}. Override the {@link createExternalServer} method.
     *
     * @param xml An {@link XML} object represents child element, so that can identify the type of child to create.
     * @return A new child Entity via {@link createExternalServer createExternalServer()}.
     */
    DistributedServerClientArrayMediator.prototype.createChild = function (xml) {
        return this.createExternalServer(xml);
    };
    /* ---------------------------------------------------------
        METHOD OF CLIENT
    --------------------------------------------------------- */
    /**
     * @inheritdoc
     */
    DistributedServerClientArrayMediator.prototype.connect = function () {
        for (var i = 0; i < this.size(); i++) {
            var system = this.at(i);
            if (system.connect == undefined)
                continue;
            system.connect();
        }
    };
    return DistributedServerClientArrayMediator;
}(DistributedClientArrayMediator_1.DistributedClientArrayMediator));
exports.DistributedServerClientArrayMediator = DistributedServerClientArrayMediator;
//# sourceMappingURL=DistributedServerClientArrayMediator.js.map
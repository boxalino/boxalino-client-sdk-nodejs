"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var node_1 = require("../utility/node");
var Global_1 = require("../base/Global");
/**
 * Terminate program.
 */
function terminate() {
    if (Global_1._Get_root().__s_pTerminate_handler !== null)
        Global_1._Get_root().__s_pTerminate_handler();
    if (node_1.is_node() === true)
        process.exit();
    else {
        window.open("", "_self", "");
        window.close();
    }
}
exports.terminate = terminate;
/**
 * Set terminate handler.
 *
 * @param func The terminate handler.
 */
function set_terminate(func) {
    Global_1._Get_root().__s_pTerminate_handler = func;
    if (node_1.is_node() === true)
        process.on("uncaughtException", function () {
            Global_1._Get_root().__s_pTerminate_handler();
        });
    else
        window.onerror = function () {
            Global_1._Get_root().__s_pTerminate_handler();
        };
}
exports.set_terminate = set_terminate;
/**
 * Get terminate handler.
 *
 * @return The terminate handler.
 */
function get_terminate() {
    return Global_1._Get_root().__s_pTerminate_handler;
}
exports.get_terminate = get_terminate;
//# sourceMappingURL=global.js.map
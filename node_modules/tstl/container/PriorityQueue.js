"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var AdaptorContainer_1 = require("../base/container/AdaptorContainer");
var TreeMultiSet_1 = require("../container/TreeMultiSet");
var comparators_1 = require("../functional/comparators");
/**
 * Priority Queue; Higher Out First.
 *
 * @author Jeongho Nam <http://samchon.org>
 */
var PriorityQueue = /** @class */ (function (_super) {
    __extends(PriorityQueue, _super);
    function PriorityQueue() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var _this = _super.call(this) || this;
        // DECLARE MEMBERS
        var comp = comparators_1.less;
        var post_process = null;
        //----
        // INITIALIZE MEMBERS AND POST-PROCESS
        //----
        // BRANCH - METHOD OVERLOADINGS
        if (args.length === 1 && args[0] instanceof PriorityQueue) {
            var obj_1 = args[0];
            comp = obj_1.source_.key_comp();
            post_process = function () {
                var first = obj_1.source_.begin();
                var last = obj_1.source_.end();
                _this.source_.assign(first, last);
            };
        }
        else if (args.length >= 2 && args[0].next instanceof Function && args[1].next instanceof Function) {
            // FUNCTION TEMPLATE
            if (args.length === 3)
                comp = args[2];
            post_process = function () {
                // RANGE CONSTRUCTOR
                var first = args[0]; // PARAMETER 1
                var last = args[1]; // PARAMETER 2
                _this.source_.assign(first, last);
            };
        }
        else if (args.length === 1)
            comp = args[0];
        //----
        // DO PROCESS
        //----
        // CONSTRUCT CONTAINER
        _this.source_ = new TreeMultiSet_1.TreeMultiSet(comp);
        // ACT POST-PROCESS
        if (post_process !== null)
            post_process();
        return _this;
    }
    /* ---------------------------------------------------------
        ACCESSORS
    --------------------------------------------------------- */
    /**
     * Get value comparison function.
     */
    PriorityQueue.prototype.value_comp = function () {
        return this.source_.value_comp();
    };
    /**
     * Get top element.
     */
    PriorityQueue.prototype.top = function () {
        return this.source_.end().prev().value;
    };
    /**
     * @inheritDoc
     */
    PriorityQueue.prototype.pop = function () {
        this.source_.erase(this.source_.end().prev());
    };
    return PriorityQueue;
}(AdaptorContainer_1.AdaptorContainer));
exports.PriorityQueue = PriorityQueue;
exports.priority_queue = PriorityQueue;
//# sourceMappingURL=PriorityQueue.js.map